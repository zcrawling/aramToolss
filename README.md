# KHU NOTICE SERVER
경희대학교의 각 게시판에 올라온 공지사항들을 정기적으로 크롤링하여 보기쉽게 정리하는 웹사이트입니다.
### STATUS: 개발중(예상기한: 01/25 ~01/30)


이 프로젝트는 CrowCpp(https://github.com/CrowCpp/Crow/tree/master#)를 사용합니다. 
## DEPENDENCY
C++ 20
CMAKE 4.1+  
libasio-dev (1.28+)
libcurl4-openssl-dev (8.5.0+)
python3 (3.11+)

## BUILD
//TODO()


### 개발일지 

1: 개발의도 
주기적으로 경희대의 각종 웹사이트들에서 올라오는 공지사항을 크롤링하여, 단일 웹사이트에 서빙하는 
프로그램을 만들려고 했다. 알다시피 공지사항들은 경희대 사이트,기숙사 사이트, 단과대사이트, 학과사이트, 우리학과의 경우에는, 
실감미디어, sw중심사업단,... 등 수 많은 곳에서 공지가 올라오므로 놓치기 쉽다.
  
2: (01/25) C로 짜인 몽구스라는 웹 라이브러리를 이용하여 크롤러와 서버, 데이터베이스를 하나의 C++ 프로그램안에서 구현해낼것이다.  
오늘은 프로젝트의 아키텍쳐를 설계했고, 이번프로젝트에 맞는 database를 작성하는 중인데, 아직까진 순조롭다. 

3: (01/26) 기초적인 데이터베이스 작성을 끝내고, 몽구스 라이브러리를 이용하여 서버와 크롤러를 만들려고 시도중인데, 쉽지않다.  
몽구스가 C로 되어있는 덕분에 Cstyle코드와 Cppstyle코드가 겹쳐서 난잡하고, 메모리안정성도 도저히 보장할 수 없을 것 같다.  
프론트는 피그마를 적절히 활용하면 예쁘진 않아도 동작은 제대로 할 것 같다.. 

4: (01/27) 몽구스를 완전히 deprecate할 것이다. 대신 서버는 Crow, 크롤러는 Python3-bs4를 사용할 것이다.
Crow는 파이썬의 Flask만큼 쉽게 사용할 수 있지만 크롤러용으론 부적합하므로 두개를 두 프로세스로 분리하는것이 맞을 것이다.  

5: (01/27:2) 프로세스를 두개로 분리하니 프로세스간의 통신이 필요하다. 서버 사양에 맞춰 유닉스 도메인 소켓으로 통신하면 될 것 같은데,   
소켓통신 프로그램은 처음 짜보는거라 잼민이 도움을 받아야 할 것 같다.   
또 다른 문제는 멀티스레드이다. 크롤러와 서버가 개별 프로세스로 분리되었으니, 지속적인 통신을 위해선 한쪽은 반드시 소켓을 열고 있어야한다.  
그럴려면 멀티스레드의 도입이 필연적이다.. C++이 친숙하니 일단 C++의 <thread>를 사용해볼 것이다.  
database의 자료구조를 thread-safe하게 변경하려니 머리가 지끈지끈하다. 일단 이건 나중에

6: (01/28) 잼민이 쓰니깐 생각보다 빨리 끝났다. 이제 소켓통신, thread문제는 해결했고, 크롤러로 형식 비슷한 페이지 크롤링,  
서버 부분만 짜면 끝.
